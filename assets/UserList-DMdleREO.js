import{d as k,b as y,g as V,_ as w,c as u,o as m,a as e,t as s,h as C,w as i,v as p,i as g,j as f,f as M,F as $,k as E}from"./index-Bgho3WtG.js";const F=k({name:"UserCrud",setup(){const l=y([{id:1,name:"张三",email:"zhangsan@example.com",age:25,gender:"male"},{id:2,name:"李四",email:"lisi@example.com",age:30,gender:"female"},{id:3,name:"王五",email:"wangwu@example.com",age:28,gender:"other"}]),n=V({id:0,name:"",email:"",age:0,gender:"male"}),v=r=>({male:"男",female:"女",other:"其他"})[r]||r,a=y(!1),U=r=>{Object.assign(n,r),a.value=!0,console.log(r,"-----------editUser")},b=r=>{confirm("确定要删除这个用户吗？")&&(console.warn(r,"--------dellll"),l.value=l.value.filter(o=>o.id!==r))},t=()=>{if(a.value){const r=l.value.findIndex(o=>o.id===n.id);r!==-1&&(l.value[r]={...n})}else{const r={...n,id:l.value.length>0?Math.max(...l.value.map(o=>o.id))+1:1};l.value.push(r)}d()},d=()=>{Object.assign(n,{id:0,name:"",email:"",age:0,gender:"male"}),a.value=!1};return{users:l,currentUser:n,isEditing:a,getGenderText:v,editUser:U,deleteUser:b,handleSubmit:t,resetForm:d}}}),S={class:"crud-container"},T={class:"form-container"},j={class:"form-group"},q={class:"form-group"},B={class:"form-group"},D={class:"form-group"},I={class:"radio-group"},N={class:"from-actions"},G={type:"submit"},L={class:"table-container"},O={class:"actions"},h=["onClick"],z=["onClick"];function R(l,n,v,a,U,b){return m(),u("div",S,[n[17]||(n[17]=e("h1",null,"用户管理系统",-1)),e("div",T,[e("h2",null,s(l.isEditing?"编辑用户":"添加新用户"),1),e("form",{onSubmit:n[7]||(n[7]=C((...t)=>l.handleSubmit&&l.handleSubmit(...t),["prevent"])),class:"from-wrapper"},[e("div",j,[n[8]||(n[8]=e("label",{for:"name"},"姓名: ",-1)),i(e("input",{type:"text",id:"name",required:"","onUpdate:modelValue":n[0]||(n[0]=t=>l.currentUser.name=t)},null,512),[[p,l.currentUser.name]])]),e("div",q,[n[9]||(n[9]=e("label",{for:"youx"},"邮箱: ",-1)),i(e("input",{type:"email",id:"youx",required:"","onUpdate:modelValue":n[1]||(n[1]=t=>l.currentUser.email=t)},null,512),[[p,l.currentUser.email]])]),e("div",B,[n[10]||(n[10]=e("label",{for:"age"},"年龄: ",-1)),i(e("input",{type:"number",id:"age",required:"",min:"1","onUpdate:modelValue":n[2]||(n[2]=t=>l.currentUser.age=t)},null,512),[[p,l.currentUser.age]])]),e("div",D,[n[14]||(n[14]=e("label",{for:"name"},"性别: ",-1)),e("div",I,[e("label",null,[i(e("input",{type:"radio",value:"male","onUpdate:modelValue":n[3]||(n[3]=t=>l.currentUser.gender=t)},null,512),[[f,l.currentUser.gender]]),n[11]||(n[11]=g("男 "))]),e("label",null,[i(e("input",{type:"radio",value:"female","onUpdate:modelValue":n[4]||(n[4]=t=>l.currentUser.gender=t)},null,512),[[f,l.currentUser.gender]]),n[12]||(n[12]=g("女 "))]),e("label",null,[i(e("input",{type:"radio",value:"other","onUpdate:modelValue":n[5]||(n[5]=t=>l.currentUser.gender=t)},null,512),[[f,l.currentUser.gender]]),n[13]||(n[13]=g("其他 "))])])]),e("div",N,[e("button",G,s(l.isEditing?"更新":"添加"),1),l.isEditing?(m(),u("button",{key:0,type:"button",onClick:n[6]||(n[6]=(...t)=>l.resetForm&&l.resetForm(...t))},"取消")):M("",!0)])],32)]),e("div",L,[n[16]||(n[16]=e("h2",null,"用户列表",-1)),e("table",null,[n[15]||(n[15]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"姓名"),e("th",null,"邮箱"),e("th",null,"年龄"),e("th",null,"性别"),e("th",null,"操作")])],-1)),e("tbody",null,[(m(!0),u($,null,E(l.users,t=>(m(),u("tr",{key:t.id},[e("td",null,s(t.id),1),e("td",null,s(t.name),1),e("td",null,s(t.email),1),e("td",null,s(t.age),1),e("td",null,s(l.getGenderText(t.gender)),1),e("td",O,[e("button",{onClick:d=>l.editUser(t)},"编辑",8,h),e("button",{onClick:d=>l.deleteUser(t.id)},"删除",8,z)])]))),128))])])])])}const H=w(F,[["render",R],["__scopeId","data-v-eaa56120"]]);export{H as default};
